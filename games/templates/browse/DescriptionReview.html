{% extends "layout.html" %}

{% block title %}Game Description{% endblock %}

{% block head %}
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock %}

{% block content %}
    {% include 'header.html' %}
    <div id="container">
        <main id="content">
            <h2><strong>{{ games['title'] }}</strong></h2>
            <h3><strong>Price:</strong> <strong>${{ games['price'] }}</strong></h3>
            <div>
                {% for genre in games['genres'] %}
                    <p>{{ genre }}</p>
                {% endfor %}
            </div>
            <div>
                <a href=" {{ url_for('descriptions_bp.favourite', current_game=games, current_game_id=games['game_id']) }} ">Favourite</a>
            </div>
            <br>
            <div id="floating-paragraph">{{ games['description'] }}</div>
            <br>
            <img src="{{ games['image_url'] }}" alt="Game Header Image">

             <!-- Include Review Form -->
            {% include 'browse/review_form.html' %}

            <!-- Display Existing Reviews -->
            <div id="existing-reviews">
                <h3>Existing Reviews</h3>
                {% for review in games.reviews %}
                    <div class="review">
                        <p><strong>User:</strong> {{ review.user.username }}</p>
                        <p><strong>Rating:</strong> {{ review.rating }}</p>
                    </div>
                    <div class="review-comment">
                        <p><strong>Comment:</strong> {{ review.comment }}</p>
                    </div>
                {% endfor %}
            </div>
        </main>
    </div>
{% endblock %}